.piano-key {
  position: absolute;
  cursor: pointer;
  user-select: none;
  border-radius: 0 0 4px 4px;
  transition:
    transform 0.05s ease,
    box-shadow 0.05s ease;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  align-items: center;
  padding-bottom: 0.5rem;
  border-color: black;
}

/* White keys */
.piano-key.white {
  width: var(--white-key-width);
  height: var(--white-key-height);
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.4);
  border-top: none;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  z-index: 1;
}

.piano-key.white:hover {
  background: #f9f9f9;
}

.piano-key.white.pressed {
  background: #e8e8e8;
  transform: translateY(2px);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* Black keys */
.piano-key.black {
  width: var(--black-key-width);
  height: var(--black-key-height);
  background: linear-gradient(180deg, #2a2a2a 0%, #1a1a1a 100%);
  border: 1px solid #000;
  border-top: none;
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
  z-index: 2;
}

.piano-key.black:hover {
  background: linear-gradient(180deg, #3a3a3a 0%, #2a2a2a 100%);
}

.piano-key.black.pressed {
  background: linear-gradient(180deg, #1a1a1a 0%, #0a0a0a 100%);
  transform: translateY(2px);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

/* Scale highlighting */
.piano-key.white.in-scale {
  background: #baddff;
  /* border-color: #b3d9ff; */
}

.piano-key.white.in-scale:hover {
  /* background: #60a3eb; */
  background: #b5d8fe;
}

.piano-key.white.in-scale.pressed {
  background: #97cfff;
}

.piano-key.black.in-scale {
  /* Cool blue gradient */
  /* background: linear-gradient(180deg, #1376d9 0%, #4a6a8a 100%); */
  background: #1376d9;
  /* border-color: #3a5a7a; */
}

.piano-key.black.in-scale:hover {
  background: #1266c2;
}

.piano-key.black.in-scale.pressed {
  background: #0d56a9;
}

/* Chord highlighting */
.piano-key.white.in-chord {
  background: #fff4e5;
  /* border-color: #ffcc80; */
}

.piano-key.white.in-chord:hover {
  background: #ffe9cc;
}

.piano-key.black.in-chord {
  background: orange;
  /* background: linear-gradient(180deg, #d4a574 0%, #b8935a 100%); */
}

/* Key labels */
.key-label {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.25rem;
  pointer-events: none;
}

.note-name {
  /* color: #666; */
  color: black;
  font-weight: 500;
  font-size: 14px;
}

.piano-key.in-scale .note-name {
  /* color: #1976d2; */
  color: black;
  font-weight: 600;
}

.piano-key.in-chord .note-name {
  /* color: #667eea; */
  color: black;
  font-weight: 600;
}

.scale-degree {
  /* color: #999; */
  color: black;
  font-size: 14px;
  font-weight: 600;
}

.piano-key.in-scale .scale-degree {
  /* color: #1976d2; */
  color: black;
}

.piano-key.in-chord .scale-degree {
  /* color: #667eea; */
  color: black;
}

/* Responsive font sizes */
@media (max-width: 768px) {
  .key-label {
    font-size: 10px;
  }

  .note-name {
    font-size: 9px;
  }

  .scale-degree {
    font-size: 8px;
  }
}

@media (max-width: 480px) {
  .piano-key {
    padding-bottom: 0.25rem;
  }

  .key-label {
    font-size: 9px;
    gap: 0.15rem;
  }

  .note-name {
    font-size: 8px;
  }

  .scale-degree {
    font-size: 7px;
  }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
  .piano-key {
    touch-action: manipulation;
  }
}
